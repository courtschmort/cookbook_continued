<h1><%= @recipe.title %></h1>

<% x = 0 %>
<% stars = [] %>
<% until (x >= @recipe.rating) %>
<% x += 1 %>
<% stars.push('⭐️') %>
<% end %>
<p>Rating: <%= stars.join(" ") %></p>

<p><span class="underline">Ingredients</span>: <%= @recipe.ingredients %></p>
<p><span class="underline">Instructions</span>: <%= @recipe.instructions %></p>

<% if @recipe.tags.any? %>
  <h4>Here are the tags for <%= "#{@recipe.title}" %></h4>

  <% @recipe.tags.each do |song| %>
    <ul>
      <li>
        <%= link_to tag.categories, recipe_tag_path(@recipe, tag) %>
      </li>
    </ul>
  <% end %>
<% else %>
  <p>No tags are listed for <%= "#{@recipe.title}" %>.</p>
<% end %>

<%= form_for @recipe do |f| %>
<%= f.label :categories %>
<div class="form-group">
  <%= collection_select(:recipe, :id, Tag.all, :id, :categories, class: 'form-width') %>
</div>
<% end %>

<a><%= link_to "Edit", edit_recipe_path(@recipe) %></a> |
<a><%= link_to "Delete", recipe_path(@recipe),
  :data => {:confirm => "You sure?",
  :method => "delete"} %></a>

<p><%= link_to "Return to recipes", recipes_path %></p>
